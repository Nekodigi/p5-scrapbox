<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Maze Generator - ArTube</title>
    <link rel="stylesheet" href="../styles/work.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.7.0/p5.min.js"></script>
</head>
<body>
    <nav class="work-nav">
        <a href="../index.html" class="back-btn">Back to Gallery</a>
        <h1>Maze Generator</h1>
        <div class="nav-controls">
            <button id="resetBtn">Reset</button>
            <button id="generateBtn">Generate</button>
        </div>
    </nav>

    <main class="work-container">
        <div id="sketch-container"></div>
        
        <div class="work-info">
            <div class="description">
                <h2>About this work</h2>
                <p>An interactive maze generator that creates and solves mazes using various algorithms. Watch as the maze is generated step by step and then find the solution path. You can experiment with different generation methods and solving algorithms.</p>
            </div>
            
            <div class="controls">
                <h3>Controls</h3>
                <ul>
                    <li><strong>G:</strong> Generate new maze</li>
                    <li><strong>S:</strong> Solve maze</li>
                    <li><strong>C:</strong> Clear solution</li>
                    <li><strong>A:</strong> Change algorithm</li>
                    <li><strong>M:</strong> Generation method</li>
                    <li><strong>+/-:</strong> Adjust maze size</li>
                    <li><strong>↑↓:</strong> Generation speed</li>
                    <li><strong>←→:</strong> Solve speed</li>
                    <li><strong>1-4:</strong> Quick algorithm selection</li>
                    <li><strong>R:</strong> Reset</li>
                    <li><strong>Click:</strong> Set start/end points</li>
                </ul>
            </div>
        </div>
    </main>

    <script src="../scripts/sketches/interactive/maze-generator.js"></script>
    <script>
        // Override the setup function to work with the container
        let originalSetup = setup;
        setup = function() {
            const canvas = createCanvas(windowWidth * 0.7, windowHeight * 0.8);
            canvas.parent('sketch-container');
            
            // Call the original setup if it exists
            if (typeof originalSetup === 'function') {
                originalSetup();
            }
        }

        // Override windowResized
        let originalWindowResized = windowResized;
        windowResized = function() {
            resizeCanvas(windowWidth * 0.7, windowHeight * 0.8);
            if (typeof originalWindowResized === 'function') {
                originalWindowResized();
            }
        }

        document.getElementById('resetBtn').addEventListener('click', () => {
            // Reset the maze
            if (typeof resetMaze === 'function') {
                resetMaze();
            }
        });

        document.getElementById('generateBtn').addEventListener('click', () => {
            // Generate new maze
            if (typeof generateNewMaze === 'function') {
                generateNewMaze();
            }
        });
    </script>
</body>
</html>